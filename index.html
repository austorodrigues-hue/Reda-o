
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamScribe & WriteMaster AI</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Lora:ital,wght@0,400;0,500;1,400&family=Cinzel:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s ease, color 0.5s ease;
        }
        .theme-dream {
            background: radial-gradient(circle at top right, #1e1b4b, #0f172a, #020617);
            color: #e2e8f0;
        }
        .theme-essay {
            background-color: #f8fafc;
            color: #0f172a;
        }
        .serif { font-family: 'Lora', serif; }
        .mystic { font-family: 'Cinzel', serif; }
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .theme-essay .glass {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.05);
            color: #0f172a;
        }
        .stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px);
            background-size: 550px 550px;
            z-index: 0;
            opacity: 0.1;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-in { animation: fadeIn 0.3s ease-out forwards; }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        .theme-dream .calendar-day:hover { background: rgba(255,255,255,0.1); }
        .theme-essay .calendar-day:hover { background: rgba(0,0,0,0.05); }
        .calendar-day.active { background: #4f46e5 !important; color: white !important; font-weight: bold; }
        .calendar-day.has-note::after {
            content: '';
            position: absolute;
            bottom: 4px;
            width: 4px;
            height: 4px;
            background: #10b981;
            border-radius: 50%;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body class="min-h-screen">
    <div id="app"></div>

    <script type="module">
        import { h, render } from 'https://esm.sh/preact';
        import { useState, useEffect, useMemo, useCallback } from 'https://esm.sh/preact/hooks';
        import htm from 'https://esm.sh/htm';
        import { GoogleGenAI, Type } from 'https://esm.sh/@google/genai';

        const html = htm.bind(h);

        const STORAGE_KEY = 'dreamscribe_writemaster_final_v5';
        const ESSAY_THEMES = [
            "Desafios da educa√ß√£o inclusiva no Brasil contempor√¢neo.", 
            "O impacto das fake news na democracia brasileira.", 
            "Caminhos para combater a intoler√¢ncia religiosa.", 
            "O estigma das doen√ßas mentais na sociedade brasileira.", 
            "Seguran√ßa alimentar e combate √† fome no Brasil.", 
            "O papel da tecnologia na alfabetiza√ß√£o de crian√ßas.", 
            "Efeitos da polariza√ß√£o pol√≠tica nas rela√ß√µes sociais.", 
            "A import√¢ncia da doa√ß√£o de √≥rg√£os para a sa√∫de p√∫blica.", 
            "Desafios da mobilidade urbana sustent√°vel.", 
            "Cultura do cancelamento e limites da liberdade de express√£o."
        ];

        const TIMER_PRESETS = {
            work: 25 * 60,
            short: 5 * 60,
            long: 15 * 60,
            challenge: 60 * 60
        };

        // --- Componente de Cron√¥metro ---
        function PomodoroTimer({ onTimeUp, theme = 'dream' }) {
            const [mode, setMode] = useState('work');
            const [seconds, setSeconds] = useState(TIMER_PRESETS.work);
            const [isActive, setIsActive] = useState(false);

            useEffect(() => {
                let interval;
                if (isActive && seconds > 0) {
                    interval = setInterval(() => setSeconds(s => s - 1), 1000);
                } else if (seconds === 0) {
                    setIsActive(false);
                    if (onTimeUp) onTimeUp();
                }
                return () => clearInterval(interval);
            }, [isActive, seconds]);

            const changeMode = (m) => {
                setMode(m);
                setSeconds(TIMER_PRESETS[m]);
                setIsActive(false);
            };

            const format = (s) => {
                const mins = Math.floor(s / 60);
                const secs = s % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            };

            const isEssay = theme === 'essay';

            return html`
                <div class="glass p-6 rounded-[2rem] shadow-xl flex flex-col items-center gap-6">
                    <div class="flex ${isEssay ? 'bg-slate-100' : 'bg-white/5'} p-1 rounded-xl w-full">
                        ${['work', 'short', 'long', 'challenge'].map(m => html`
                            <button 
                                key=${m}
                                onClick=${() => changeMode(m)}
                                class="flex-1 py-2 px-2 rounded-lg text-[8px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${mode === m ? (isEssay ? 'bg-white text-indigo-600 shadow-sm' : 'bg-indigo-600 text-white') : (isEssay ? 'text-slate-400' : 'text-white/30')}"
                            >
                                ${m === 'work' ? 'Foco' : m === 'short' ? 'Pausa' : m === 'long' ? 'Longo' : 'Prova'}
                            </button>
                        `)}
                    </div>
                    <div class="text-5xl font-black tabular-nums tracking-tighter ${isEssay ? 'text-slate-900' : 'text-white'}">${format(seconds)}</div>
                    <div class="flex gap-2 w-full">
                        <button 
                            onClick=${() => setIsActive(!isActive)}
                            class="flex-1 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest text-white transition-all transform active:scale-95 ${isActive ? 'bg-orange-500' : 'bg-indigo-600'}"
                        >
                            ${isActive ? 'Pausar' : 'Iniciar'}
                        </button>
                        <button onClick=${() => setSeconds(TIMER_PRESETS[mode])} class="p-3 ${isEssay ? 'bg-slate-200 text-slate-600' : 'bg-white/10 text-white/50'} rounded-2xl">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </button>
                    </div>
                </div>
            `;
        }

        // --- Componente de Calend√°rio ---
        function Calendar({ notes, onSelectDate, selectedDate }) {
            const now = new Date();
            const [viewDate, setViewDate] = useState(new Date(now.getFullYear(), now.getMonth(), 1));
            const daysInMonth = new Date(viewDate.getFullYear(), viewDate.getMonth() + 1, 0).getDate();
            const firstDay = new Date(viewDate.getFullYear(), viewDate.getMonth(), 1).getDay();
            const days = Array.from({ length: daysInMonth }, (_, i) => i + 1);
            const blanks = Array.from({ length: firstDay }, (_, i) => i);

            const hasNote = (day) => {
                const dateStr = new Date(viewDate.getFullYear(), viewDate.getMonth(), day).toLocaleDateString('pt-BR');
                return notes.some(n => n.date.startsWith(dateStr));
            };

            const isSelected = (day) => {
                if (!selectedDate) return false;
                return selectedDate.getDate() === day && selectedDate.getMonth() === viewDate.getMonth() && selectedDate.getFullYear() === viewDate.getFullYear();
            };

            return html`
                <div class="glass p-4 rounded-3xl w-full max-w-sm mx-auto shadow-xl">
                    <div class="flex justify-between items-center mb-4 px-2">
                        <button onClick=${() => setViewDate(new Date(viewDate.setMonth(viewDate.getMonth() - 1)))} class="p-1 hover:opacity-50 font-bold">‚ùÆ</button>
                        <h4 class="font-bold text-[10px] uppercase tracking-widest">${viewDate.toLocaleString('pt-BR', { month: 'long', year: 'numeric' })}</h4>
                        <button onClick=${() => setViewDate(new Date(viewDate.setMonth(viewDate.getMonth() + 1)))} class="p-1 hover:opacity-50 font-bold">‚ùØ</button>
                    </div>
                    <div class="calendar-grid mb-2">
                        ${['D','S','T','Q','Q','S','S'].map(d => html`<div class="text-[8px] text-center font-black opacity-30">${d}</div>`)}
                    </div>
                    <div class="calendar-grid">
                        ${blanks.map((_, i) => html`<div key=${'b'+i}></div>`)}
                        ${days.map(d => html`
                            <div key=${d} onClick=${() => onSelectDate(new Date(viewDate.getFullYear(), viewDate.getMonth(), d))} class="calendar-day ${isSelected(d) ? 'active' : ''} ${hasNote(d) ? 'has-note' : ''}">
                                ${d}
                            </div>
                        `)}
                    </div>
                </div>
            `;
        }

        function App() {
            const [appMode, setAppMode] = useState('dream');
            const [tab, setTab] = useState('journal'); 
            const [dreams, setDreams] = useState([]);
            const [dailyNotes, setDailyNotes] = useState([]);
            const [essayHistory, setEssayHistory] = useState([]);
            const [currentDraft, setCurrentDraft] = useState({ title: '', content: '', meta: '' });
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [showSettings, setShowSettings] = useState(false);
            const [selectedDate, setSelectedDate] = useState(null);
            const [essayTheme, setEssayTheme] = useState('');
            const [toast, setToast] = useState('');

            useEffect(() => {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    try {
                        const p = JSON.parse(saved);
                        setDreams(p.dreams || []);
                        setDailyNotes(p.dailyNotes || []);
                        setEssayHistory(p.essayHistory || []);
                        setAppMode(p.appMode || 'dream');
                    } catch (e) { console.error(e); }
                }
            }, []);

            useEffect(() => {
                localStorage.setItem(STORAGE_KEY, JSON.stringify({ dreams, dailyNotes, essayHistory, appMode }));
                document.body.className = appMode === 'dream' ? 'theme-dream' : 'theme-essay';
            }, [dreams, dailyNotes, essayHistory, appMode]);

            const showMsg = (m) => { setToast(m); setTimeout(() => setToast(''), 3000); };

            const saveEntry = () => {
                if (!currentDraft.content.trim()) return alert("Conte√∫do vazio!");
                const entry = {
                    ...currentDraft,
                    id: Date.now(),
                    date: new Date().toLocaleString('pt-BR'),
                    type: appMode === 'dream' ? (tab === 'journal' ? 'dream' : 'note') : 'essay'
                };

                if (appMode === 'dream') {
                    if (tab === 'journal') setDreams([entry, ...dreams]);
                    else setDailyNotes([entry, ...dailyNotes]);
                } else {
                    setEssayHistory([{...entry, theme: essayTheme}, ...essayHistory]);
                }

                setCurrentDraft({ title: '', content: '', meta: '' });
                showMsg("Registro salvo!");
                setTab('history');
            };

            const toggleMode = () => {
                const newMode = appMode === 'dream' ? 'essay' : 'dream';
                setAppMode(newMode);
                setTab(newMode === 'dream' ? 'journal' : 'editor');
                setShowSettings(false);
            };

            const allEntries = useMemo(() => [...dreams, ...dailyNotes], [dreams, dailyNotes]);
            const filteredEntries = useMemo(() => {
                const source = appMode === 'dream' ? allEntries : essayHistory;
                if (!selectedDate) return source;
                const dStr = selectedDate.toLocaleDateString('pt-BR');
                return source.filter(n => n.date.startsWith(dStr));
            }, [allEntries, essayHistory, selectedDate, appMode]);

            return html`
                <div class="min-h-screen relative flex flex-col">
                    ${appMode === 'dream' && html`<div class="stars"></div>`}
                    
                    <header class="glass sticky top-0 z-50 px-6 py-4 flex items-center justify-between shadow-xl">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 ${appMode === 'dream' ? 'bg-indigo-600' : 'bg-slate-900'} rounded-xl flex items-center justify-center text-white font-bold shadow-lg">
                                ${appMode === 'dream' ? 'üåô' : '‚úçÔ∏è'}
                            </div>
                            <h1 class="${appMode === 'dream' ? 'mystic' : 'font-black'} text-xs sm:text-base uppercase tracking-widest hidden xs:block">
                                ${appMode === 'dream' ? 'DreamScribe' : 'WriteMaster'}
                            </h1>
                        </div>

                        <nav class="flex bg-black/5 p-1 rounded-2xl">
                            <button 
                                onClick=${() => setTab(appMode === 'dream' ? 'journal' : 'editor')} 
                                class="px-3 sm:px-6 py-2 rounded-xl text-[9px] sm:text-[10px] font-black tracking-widest transition-all ${tab !== 'history' ? 'bg-white text-indigo-600 shadow-sm' : 'opacity-40'}"
                            >
                                NOVO
                            </button>
                            <button 
                                onClick=${() => setTab('history')} 
                                class="px-3 sm:px-6 py-2 rounded-xl text-[9px] sm:text-[10px] font-black tracking-widest transition-all ${tab === 'history' ? 'bg-white text-indigo-600 shadow-sm' : 'opacity-40'}"
                            >
                                HIST√ìRICO
                            </button>
                        </nav>

                        <button onClick=${() => setShowSettings(true)} class="p-2.5 bg-indigo-600/10 text-indigo-400 rounded-xl border border-indigo-600/20">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                        </button>
                    </header>

                    ${showSettings && html`
                        <div class="fixed inset-0 z-[100] flex justify-end">
                            <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick=${() => setShowSettings(false)}></div>
                            <div class="relative w-80 bg-white h-full shadow-2xl p-8 flex flex-col animate-in text-slate-900">
                                <div class="flex justify-between items-center mb-10">
                                    <h3 class="font-black text-slate-900 uppercase tracking-widest text-xs">Ajustes</h3>
                                    <button onClick=${() => setShowSettings(false)} class="p-2 text-slate-400">‚úï</button>
                                </div>
                                <div class="space-y-6">
                                    <div class="p-6 rounded-[2rem] bg-slate-50 border border-slate-100 space-y-4">
                                        <h4 class="font-bold text-[9px] text-slate-400 uppercase tracking-widest">Alternar Modo</h4>
                                        <button onClick=${toggleMode} class="w-full flex items-center justify-between p-5 bg-white rounded-2xl border border-slate-200 shadow-sm hover:border-indigo-500 transition-all">
                                            <span class="font-black text-xs uppercase tracking-widest">${appMode === 'dream' ? 'Modo Reda√ß√£o' : 'Modo Di√°rio'}</span>
                                            <span class="text-2xl">${appMode === 'dream' ? '‚úçÔ∏è' : 'üåô'}</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `}

                    <main class="max-w-6xl mx-auto w-full p-4 sm:p-8 flex-1 z-10">
                        ${tab !== 'history' && html`
                            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 animate-in">
                                <div class="lg:col-span-3 space-y-6">
                                    ${appMode === 'essay' && html`
                                        <div class="bg-indigo-50/80 border border-indigo-100 p-8 rounded-[2.5rem] flex flex-col md:flex-row items-center gap-6 shadow-sm">
                                            <div class="flex-1 overflow-hidden">
                                                <p class="text-[10px] font-black uppercase tracking-[0.2em] text-indigo-400 mb-2">Tema em Destaque</p>
                                                <p class="text-sm sm:text-base font-bold text-indigo-900 leading-tight">${essayTheme || 'Aperte o bot√£o ao lado para sortear um tema de reda√ß√£o.'}</p>
                                            </div>
                                            <button onClick=${() => setEssayTheme(ESSAY_THEMES[Math.floor(Math.random()*ESSAY_THEMES.length)])} class="shrink-0 bg-white text-indigo-600 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-md hover:shadow-xl transition-all active:scale-95">SORTEAR TEMA</button>
                                        </div>
                                    `}
                                    <div class="glass p-6 sm:p-10 rounded-[2.5rem] shadow-xl space-y-6">
                                        <input 
                                            class="w-full bg-transparent border-b border-white/10 p-4 text-xl sm:text-2xl font-black outline-none placeholder:opacity-20 uppercase tracking-widest" 
                                            placeholder=${appMode === 'dream' ? "T√≠tulo do Relato..." : "T√≠tulo da Reda√ß√£o..."}
                                            value=${currentDraft.title}
                                            onInput=${e => setCurrentDraft({...currentDraft, title: e.target.value})}
                                        />
                                        <textarea 
                                            class="w-full bg-transparent p-4 min-h-[400px] sm:min-h-[500px] outline-none serif text-base sm:text-lg leading-relaxed resize-none placeholder:opacity-10"
                                            placeholder=${appMode === 'dream' ? "O que aconteceu em seu mundo interior?" : "Desenvolva sua tese e argumentos aqui..."}
                                            value=${currentDraft.content}
                                            onInput=${e => setCurrentDraft({...currentDraft, content: e.target.value})}
                                        ></textarea>
                                    </div>
                                </div>
                                
                                <aside class="lg:col-span-1 space-y-6">
                                    <!-- Timer apenas no modo Reda√ß√£o -->
                                    ${appMode === 'essay' && html`<${PomodoroTimer} theme=${appMode} onTimeUp=${() => alert("Tempo encerrado!")} />`}
                                    
                                    ${appMode === 'dream' ? html`
                                        <div class="glass p-6 rounded-[2rem] border-white/10">
                                            <h4 class="font-black text-[9px] uppercase tracking-[0.2em] mb-4 opacity-40 text-center">Linha do Tempo</h4>
                                            <${Calendar} notes=${allEntries} onSelectDate=${(d) => { setSelectedDate(d); setTab('history'); }} selectedDate=${selectedDate} />
                                        </div>
                                    ` : html`
                                        <div class="glass p-8 rounded-[2rem] border-white/10 space-y-4">
                                            <h4 class="font-black text-[9px] uppercase tracking-[0.2em] mb-2 opacity-40">Lembretes</h4>
                                            <div class="text-[11px] space-y-3 opacity-60">
                                                <p>‚Ä¢ M√≠nimo 300 palavras.</p>
                                                <p>‚Ä¢ Proposta com 5 elementos.</p>
                                                <p>‚Ä¢ Use ao menos 2 repert√≥rios.</p>
                                            </div>
                                        </div>
                                    `}
                                </aside>
                            </div>
                        `}

                        ${tab === 'history' && html`
                            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 animate-in pb-32">
                                <aside class="lg:col-span-1">
                                    ${appMode === 'dream' && html`
                                        <div class="glass p-6 rounded-[2.5rem]">
                                            <h4 class="font-black text-[9px] uppercase tracking-widest mb-4 opacity-40">Datas</h4>
                                            <${Calendar} notes=${allEntries} onSelectDate=${setSelectedDate} selectedDate=${selectedDate} />
                                            ${selectedDate && html`<button onClick=${() => setSelectedDate(null)} class="w-full mt-4 text-[9px] font-black text-indigo-400 uppercase tracking-widest">Todos</button>`}
                                        </div>
                                    `}
                                </aside>

                                <div class="lg:col-span-3 space-y-8">
                                    <div class="flex justify-between items-center px-4">
                                        <h2 class="font-black text-[10px] uppercase tracking-[0.4em] opacity-50">Sua Galeria de Registros</h2>
                                        <span class="px-4 py-1.5 bg-indigo-600/10 text-indigo-400 rounded-full text-[9px] font-black uppercase tracking-widest">${filteredEntries.length} Itens</span>
                                    </div>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        ${filteredEntries.length === 0 ? html`<div class="col-span-full py-40 text-center opacity-20 font-black uppercase tracking-[0.4em] text-xs">Vazio.</div>` : 
                                        filteredEntries.map(n => html`
                                            <div key=${n.id} class="glass p-8 rounded-[2.5rem] hover:border-indigo-500/50 transition-all flex flex-col group h-full shadow-lg">
                                                <div class="flex justify-between items-start mb-6">
                                                    <div class="min-w-0 pr-4">
                                                        <h3 class="font-black text-sm uppercase tracking-widest truncate">${n.title || 'Sem T√≠tulo'}</h3>
                                                        <p class="text-[9px] font-black opacity-30 uppercase tracking-widest mt-1">${n.date}</p>
                                                    </div>
                                                    <div class="shrink-0 p-3 bg-white/10 rounded-2xl shadow-inner">${n.type === 'dream' ? 'üåô' : '‚úçÔ∏è'}</div>
                                                </div>
                                                <p class="serif text-sm opacity-70 line-clamp-3 leading-relaxed flex-1">${n.content}</p>
                                                <div class="flex gap-4 mt-8 pt-6 border-t border-white/5 opacity-50 group-hover:opacity-100">
                                                    <button onClick=${() => { setCurrentDraft(n); setTab(appMode === 'dream' ? 'journal' : 'editor'); setEssayTheme(n.theme || ''); window.scrollTo(0,0); }} class="text-[9px] font-black text-indigo-500 uppercase tracking-widest">Abrir</button>
                                                    <button onClick=${() => { if(confirm("Apagar?")) { if(n.type==='dream')setDreams(dreams.filter(x=>x.id!==n.id)); else setEssayHistory(essayHistory.filter(x=>x.id!==n.id)); } }} class="text-[9px] text-rose-500/40 hover:text-rose-500 font-black uppercase tracking-widest ml-auto">Apagar</button>
                                                </div>
                                            </div>
                                        `)}
                                    </div>
                                </div>
                            </div>
                        `}
                    </main>

                    <!-- Bot√£o Flutuante Universal (Salvar) -->
                    <div class="fixed bottom-8 right-8 z-[80]">
                        <button 
                            onClick=${saveEntry} 
                            class="w-20 h-20 bg-indigo-600 text-white rounded-full shadow-[0_15px_40px_-10px_rgba(79,70,229,0.5)] flex items-center justify-center transform active:scale-90 hover:scale-105 transition-all border-4 border-white/10"
                        >
                            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"/></svg>
                        </button>
                    </div>

                    ${toast && html`
                        <div class="fixed bottom-12 left-1/2 -translate-x-1/2 z-[200] bg-slate-900 text-white px-8 py-4 rounded-3xl shadow-2xl animate-in font-black text-[9px] uppercase tracking-[0.3em]">
                            ${toast}
                        </div>
                    `}
                </div>
            `;
        }

        render(html`<${App} />`, document.getElementById('app'));
    </script>
</body>
</html>
